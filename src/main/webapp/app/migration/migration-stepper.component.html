<mat-horizontal-stepper [linear]="true" #stepper>
    <!-- Check Gitlab account step -->
    <mat-step [stepControl]="gitlabFormGroup" *ngIf="stepGitlab">
        <form [formGroup]="gitlabFormGroup">
            <ng-template matStepLabel matStepperIcon="edit"><span jhiTranslate="migration-process.gitlab.check.account">Check your Gitlab account</span></ng-template>
            <div class="row">
                <div class="col-md-12 pt-4 pb-4 pl-5">
                    <b><span jhiTranslate="migration-process.gitlab.configuration">Gitlab configuration</span></b>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 col-xs-12 p-4">
                    <div class="row">
                        <div class="col-md-2 pl-4 pt-3 text-center">
                            <span jhiTranslate="migration-process.gitlab.url">URL</span>
                        </div>
                        <div class="col-md-2 pt-3">
                            <mat-slide-toggle (click)="reverseGitlab()" [disabled]="gitlabCredsOption === 'required'">
                                <span class="pl-2" *ngIf="useDefaultGitlab" jhiTranslate="migration-process.gitlab.url-default">
                                    Default
                                </span>
                                <span class="pl-2" *ngIf="!useDefaultGitlab" jhiTranslate="migration-process.gitlab.url-custom">
                                    Custom
                                </span>
                            </mat-slide-toggle>
                        </div>
                        <div class="col-md-8 p-0">
                            <mat-form-field style="width: 300px">
                                <input matInput formControlName="gitlabURL" [disabled]="useDefaultGitlab">
                            </mat-form-field>
                            <fa-icon icon="info-circle" matTooltip="{{'migration-process.gitlab.url-help' | translate}}"></fa-icon>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" *ngIf="!useDefaultGitlab">
                <div class="col-md-12 col-xs-12 pb-4">
                    <div class="row">
                        <div class="offset-md-4 col-md-8 p-0">
                            <mat-form-field style="width: 300px">
                                <input matInput formControlName="gitlabToken" placeholder="{{'migration-process.gitlab.token' | translate}}" [disabled]="useDefaultGitlab" [required]="gitlabCredsOption === 'required'">
                            </mat-form-field>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 col-xs-12 p-4">
                    <div class="row">
                        <div class="col-md-2 pl-4 pt-3 pr-2 text-center">
                            <span jhiTranslate="migration-process.gitlab.credentials">
                                Credentials
                            </span>
                        </div>
                        <div class="col-md-10">
                            <mat-form-field *ngIf="svnCredsOption === 'required'" style="width:350px">
                                <input matInput placeholder="{{'migration-process.gitlab.user' | translate}}" formControlName="gitlabUser" required>
                            </mat-form-field>
                            <button type="button" mat-raised-button (click)="checkGitlabUser()" class="btn btn-primary"
                                    [ngClass]="{'btn-danger': gitlabUserKO, 'btn-success': !gitlabUserKO && gitlabUserKO !== null}"
                                    [disabled]="checkingGitlabUser">
                                <span jhiTranslate="migration-process.check" *ngIf="!checkingGitlabUser">Check</span>
                                <span jhiTranslate="migration-process.checking" *ngIf="checkingGitlabUser">Checking</span>
                            </button>
                            <mat-error *ngIf="!gitlabUserKO && gitlabUserKO !== null">
                                <fa-icon icon="check"></fa-icon>
                                <span class="pl-2" jhiTranslate="migration-process.gitlab.account-found">Account found in Gitlab</span>
                            </mat-error>
                            <mat-error *ngIf="gitlabUserKO">
                                <fa-icon icon="ban"></fa-icon>
                                <span class="pl-2" jhiTranslate="migration-process.gitlab.account-unknown">Account not found in Gitlab you need to log in first</span>
                            </mat-error>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" *ngIf="!gitlabUserKO && gitlabUserKO !== null">
                <div class="col-md-12 col-xs-12 p-4">
                    <div class="row">
                        <div class="col-md-2 pl-4 pt-3 pr-2 text-center">
                            <span jhiTranslate="migration-process.gitlab.group">
                                Group
                            </span>
                            <fa-icon icon="info-circle" matTooltip="{{'migration-process.gitlab.group-help' | translate}}"></fa-icon>
                        </div>
                        <div class="col-md-10">
                            <mat-form-field style="width:350px">
                                <input matInput placeholder="{{'migration-process.gitlab.group' | translate}}" formControlName="gitlabGroup" required>
                            </mat-form-field>
                            <button type="button" mat-raised-button (click)="checkGitlabGroup()" class="btn btn-primary"
                                    [ngClass]="{'btn-danger': gitlabGroupKO, 'btn-success': !gitlabGroupKO && gitlabGroupKO !== null}"
                                    [disabled]="checkingGitlabGroup">
                                <span jhiTranslate="migration-process.check" *ngIf="!checkingGitlabGroup">Check</span>
                                <span jhiTranslate="migration-process.checking" *ngIf="checkingGitlabGroup">Checking</span>
                            </button>
                            <button type="button" mat-raised-button (click)="createGitlabGroup()" *ngIf="forceGitlabGroupCreation" class="warning">
                                <span jhiTranslate="migration-process.create" *ngIf="!creatingGitlabGroup">Create it</span>
                                <span jhiTranslate="migration-process.creating" *ngIf="creatingGitlabGroup">Creating</span>
                            </button>
                            <mat-error *ngIf="!gitlabGroupKO && gitlabGroupKO !== null">
                                <fa-icon icon="check"></fa-icon>
                                <span class="pl-2" jhiTranslate="migration-process.gitlab.group-found">Group found</span>
                            </mat-error>
                            <mat-error *ngIf="gitlabGroupKO">
                                <fa-icon icon="ban"></fa-icon>
                                <span class="pl-2" jhiTranslate="migration-process.gitlab.group-unknown">Group not found or account not a member of it</span>
                            </mat-error>
                        </div>
                    </div>
                </div>
            </div>
            <mat-divider class="mb-4"></mat-divider>
            <div>
                <button mat-stroked-button matStepperNext [disabled]="gitlabGroupKO !== false || gitlabUserKO !== false">
                    <i class="material-icons">navigate_next</i><span jhiTranslate="migration-process.next">Next</span>
                </button>
            </div>
        </form>
    </mat-step>

    <!-- Check svn repository step -->
    <mat-step [stepControl]="svnFormGroup" *ngIf="stepSvn">
        <form [formGroup]="svnFormGroup">
            <ng-template matStepLabel><span jhiTranslate="migration-process.svn.check.repository">Check your SVN repository</span></ng-template>
                <div class="row">
                    <div class="col-md-12 pt-4 pb-4 pl-5">
                        <b><span jhiTranslate="migration-process.svn.configuration">Subversion configuration</span></b>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 col-xs-12 p-4">
                        <div class="row">
                            <div class="col-md-2 pl-4 pt-3 text-center">
                                <span jhiTranslate="migration-process.svn.url">URL</span>
                            </div>
                            <div class="col-md-2 pt-3">
                                <mat-slide-toggle (click)="reverseSvn()" [disabled]="!this.svnUrlModifiable">
                                    <span class="pl-2" *ngIf="useDefaultSvn" jhiTranslate="migration-process.svn.url-default">
                                        Default
                                    </span>
                                            <span class="pl-2" *ngIf="!useDefaultSvn" jhiTranslate="migration-process.svn.url-custom">
                                        Custom
                                    </span>
                                </mat-slide-toggle>
                            </div>
                            <div class="col-md-8 p-0">
                                <mat-form-field style="width: 300px">
                                    <input matInput formControlName="svnURL" [disabled]="useDefaultSvn">
                                </mat-form-field>
                                <fa-icon icon="info-circle" matTooltip="{{'migration-process.svn.url-help' | translate}}"></fa-icon>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 col-xs-12 p-4">
                        <div class="row">
                            <div class="col-md-2 pl-4 pt-3 pr-2 text-center">
                                <span jhiTranslate="migration-process.svn.credentials">
                                    Credentials
                                </span>
                            </div>
                            <div class="col-md-10">
                                <mat-form-field *ngIf="svnCredsOption === 'required'">
                                    <input matInput placeholder="{{'migration-process.svn.user' | translate}}" formControlName="svnUser" [required]="svnCredsOption === 'required'">
                                </mat-form-field>
                                <mat-form-field *ngIf="svnCredsOption === 'required'">
                                    <input matInput placeholder="{{'migration-process.svn.password' | translate}}" formControlName="svnPwd" type="password" [required]="svnCredsOption === 'required'">
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 col-xs-12 pl-4">
                        <div class="row">
                            <div class="col-md-2 pl-4 pt-3 pr-2 text-center">
                                <span jhiTranslate="migration-process.svn.repository">Repository</span>
                            </div>
                            <div class="col-md-10">
                                <mat-form-field>
                                    <input matInput placeholder="{{'migration-process.svn.repository' | translate}}" formControlName="svnRepository" (change)="loadExtensions()" required>
                                </mat-form-field>
                                <fa-icon icon="info-circle" matTooltip="{{'migration-process.svn.repository-help' | translate}}"></fa-icon>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 col-xs-12 pl-4 pb-5">
                        <div class="row">
                            <div class="col-md-2 pl-4 pt-3 pr-2 text-center">
                                <span jhiTranslate="migration-process.svn.depth">Depth (optional)</span>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field>
                                    <input matInput placeholder="{{'migration-process.svn.depth' | translate}}" formControlName="svnDepth" type="number" [min]="2">
                                </mat-form-field>
                                <fa-icon icon="info-circle" matTooltip="{{'migration-process.svn.depth-help' | translate}}"></fa-icon>
                            </div>
                            <div class="col-md-7">
                                <button type="button" class="btn" [ngClass]="{'btn-primary': !checkingSvnRepo}"
                                        (click)="checkSvnRepository()" [disabled]="checkingSvnRepo || svnFormGroup.invalid">
                                    <span *ngIf="!checkingSvnRepo" jhiTranslate="migration-process.svn.show-directories">Show directories</span>
                                    <span *ngIf="checkingSvnRepo">
                                        <fa-icon spin="true" icon="circle-notch" class="mr-2"></fa-icon>
                                        <span jhiTranslate="migration-process.svn.loading-directories">Loading</span>
                                    </span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" *ngIf="svnDirectories && svnDirectories.modules && (svnDirectories.modules.length || svnDirectories.flat)">
                    <div class="col-md-12 pb-1" *ngIf="!svnDirectories.modules.length">
                        <div class="mb-3 ml-5">
                            <fa-icon icon="exclamation-triangle" class="circle-icon-warn"></fa-icon>
                            <span class="pl-1" jhiTranslate="migration-process.svn.no-directories">No directories found. Check the subversion configuration.</span>
                        </div>
                    </div>
                    <div class="col-md-12 pb-1" *ngIf="!svnDirectories.modules.length">
                        <div class="mb-3 ml-5" *ngIf="!svnDirectories.root">
                            <fa-icon icon="ban" class="circle-icon-ko"></fa-icon>
                            <span class="pl-0" jhiTranslate="migration-process.svn.root-directory">Files in root folder</span>
                        </div>
                    </div>
                    <div class="col-md-12 pb-1" *ngIf="!svnDirectories.modules.length">
                        <div class="mb-3 ml-5" *ngIf="svnDirectories.root">
                            <fa-icon icon="check" class="circle-icon-ok"></fa-icon>
                            <span class="pl-0" jhiTranslate="migration-process.svn.keyword-in-folder">Trunk root folder</span>
                        </div>
                    </div>
                    <div class="col-md-12 pb-1" *ngIf="!svnDirectories.modules.length">
                        <div class="mb-2">
                            <mat-slide-toggle class="mb-1 ml-5" (change)="onSelectionChange($event)">
                                <span class="pl-0" jhiTranslate="migration-process.svn.sources-in-folder">Sources in root folder</span>
                            </mat-slide-toggle>
                        </div>
                    </div>
                    <div class="col-md-12 pt-2 pb-4 pl-5" *ngIf="svnDirectories.modules.length">
                        <div class="mb-5">
                            <b><span jhiTranslate="migration-process.svn.select-directories">Directories to migrate</span></b>
                        </div>
                        <div class="ml-5" *ngIf="!useSvnRootFolder">
                            <div class="row" *ngFor="let directory of svnDirectories.modules">
                                <div class="col-md-12 pb-2">
                                    <mat-checkbox (click)="$event.stopPropagation()"
                                                  (change)="svnToggle($event, directory)"
                                                  [checked]="svnChecked(directory.path)">
                                        <span class="pl-2">
                                            <span [ngClass]="svnFontStyle(directory)">{{ directory.path }}</span> (
                                            <small *ngIf="directory.flat" jhiTranslate="migration-process.svn.no-trunk">has no trunk/tag/branches</small>
                                            <small *ngIf="directory.layoutElements.length > 0"><span jhiTranslate="migration-process.svn.with-layout">has </span>{{ directory.layoutElements }}</small>
                                            <small *ngIf="directory.layoutElements.length == 0 && !directory.flat" jhiTranslate="migration-process.svn.max-depth-reached"></small>
                                            )
                                        </span>
                                    </mat-checkbox>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            <mat-divider class="mb-4"></mat-divider>
            <div>
                <button mat-stroked-button matStepperPrevious>
                    <i class="material-icons">navigate_before</i> <span jhiTranslate="migration-process.back">Back</span>
                </button>
                <button mat-stroked-button matStepperNext [disabled]="getSvnRepoKo()">
                    <i class="material-icons">navigate_next</i><span jhiTranslate="migration-process.next">Next</span>
                </button>
            </div>
        </form>
    </mat-step>

    <!-- History step -->
    <mat-step [stepControl]="historyFormGroup" *ngIf="stepHistory">
        <ng-template matStepLabel><span jhiTranslate="migration-process.history.options">History options</span></ng-template>
        <div class="row">
            <div class="offset-md-1 col-md-11 p-4">
                <b><span jhiTranslate="migration-process.history.directories">Directories planned in migration</span></b>
            </div>
        </div>
        <div *ngFor="let directory of staticDirectories">
            <div class="row">
                <div class="col-md-2 pt-2 text-right">
                    <mat-slide-toggle (click)="historyToggle(directory)" *ngIf="enableHistoryButtons(directory)"></mat-slide-toggle>
                </div>
                <div class="col-md-2 col-xs-12">
                    <div class="pt-2">
                        <fa-icon [icon]="historyChecked(directory) ? 'check' : 'times'"></fa-icon>
                        <span class="ml-1">{{ directory }}</span>
                    </div>
                </div>
                <div class="col-md-8 col-xs-12">
                    <div class="row">
                        <div class="col-md-2 pt-2">
                            <mat-slide-toggle (click)="toggleFilter(directory + 'ToMigrate')" [(ngModel)]="enableDirectoryFilter[directory + 'ToMigrate']"
                                              *ngIf="enableHistoryButtons(directory) && historyChecked(directory)">
                                <span class="pl-2" *ngIf="!enableDirectoryFilter[directory + 'ToMigrate']" jhiTranslate="global.all">
                                    All
                                </span>
                                <span class="pl-2" *ngIf="enableDirectoryFilter[directory + 'ToMigrate']" jhiTranslate="global.only">
                                    Only
                                </span>
                            </mat-slide-toggle>
                        </div>
                        <div class="col-md-4">
                            <form [formGroup]="historyFormGroup" *ngIf="directory !== 'trunk' && enableDirectoryFilter[directory + 'ToMigrate'] && historyChecked(directory)">
                                <input [placeholder]="('migration-process.history.' + (directory === 'branches' ? 'branches-to-migrate' : 'tags-to-migrate')) | translate"
                                       [formControlName]="directory + 'ToMigrate'"
                                       class="form-control p-1" type="text"
                                       *ngIf="historyChecked(directory)">
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 pt-2 pb-2">
                    <mat-divider></mat-divider>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="offset-md-1 col-md-11 p-4">
                <b><span jhiTranslate="migration-process.history.option">History</span></b>
            </div>
        </div>
        <div class="row">
            <div class="pt-0 pl-5 pb-0">
                <mat-radio-group [(ngModel)]="historyOption">
                    <mat-radio-button [value]="'trunk'" labelPosition="before"><span jhiTranslate="migration-process.history.trunk-only" class="pl-2">Trunk</span></mat-radio-button>
                    <mat-radio-button [value]="'nothing'" labelPosition="before"><span jhiTranslate="migration-process.history.no" class="pl-2">No History</span></mat-radio-button>
                    <mat-radio-button [value]="'all'" labelPosition="before" [hidden]="disableWhenOnlyFlat()"><span jhiTranslate="migration-process.history.all" class="pl-2">All History</span></mat-radio-button>
                </mat-radio-group>
            </div>
        </div>
        <form [formGroup]="historyOptionFormGroup">
            <div class="row">
                <div class="col-md-2 pl-0 pt-3 pr-2 text-center">
                    <span jhiTranslate="migration-process.history.start-revision">Start revision</span>
                </div>
                <div class="col-md-3">
                    <mat-form-field>
                        <input matInput placeholder="{{'migration-process.history.start-revision-placeholder' | translate}}" formControlName="svnRevision">
                    </mat-form-field>
                    <fa-icon icon="info-circle" matTooltip="{{'migration-process.history.start-revision-help' | translate}}"></fa-icon>
                </div>
            </div>
            <div class="row" [hidden]="disableWhenOnlyFlat()">
                <div class="col-md-2 pl-0 pt-3 pr-2 text-center">
                    <span jhiTranslate="migration-process.history.branch-for-master">Branch</span>
                </div>
                <div class="col-md-3">
                    <mat-form-field>
                        <input matInput placeholder="{{'migration-process.history.branch-for-master-placeholder' | translate}}" formControlName="branchForMaster">
                    </mat-form-field>
                    <fa-icon icon="info-circle" matTooltip="{{'migration-process.history.branch-for-master-help' | translate}}"></fa-icon>
                </div>
            </div>
        </form>
        <mat-divider class="mb-2"></mat-divider>
        <div class="row" [hidden]="this.flatRepos === 0">
            <div class="pt-0 pl-5 pb-2">
                <i><span jhiTranslate="migration-process.svn.contains-flat">Contains flat</span></i>
            </div>
        </div>
        <div>
            <button mat-stroked-button matStepperPrevious>
                <i class="material-icons">navigate_before</i> <span jhiTranslate="migration-process.back">Back</span>
            </button>
            <button mat-stroked-button matStepperNext [disabled]="getSvnRepoKo()" (click)="initMigration(null, false)">
                <i class="material-icons">navigate_next</i><span jhiTranslate="migration-process.next">Next</span>
            </button>
        </div>
    </mat-step>

    <!-- Mapping options step -->
    <mat-step [stepControl]="mappingFormGroup" *ngIf="stepMapping">
        <ng-template matStepLabel><span jhiTranslate="migration-process.mapping">Mapping</span></ng-template>
        <form [formGroup]="mappingFormGroup">
            <div class="row">
                <div class="offset-md-1 col-md-10 pt-4 pb-4">
                    <jhi-summary-mappings
                        [mappings]="mappings"
                        [isReadOnly]="false"
                        (deleteMapping)="deleteMapping($event)"
                        (toggleMapping)="toggleMapping($event)"
                    ></jhi-summary-mappings>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 pt-1 pb-5 text-center">
                    <button type="button" mat-raised-button (click)="addMapping()" class="btn btn-primary">
                        <fa-icon icon="plus"></fa-icon>
                        <span jhiTranslate="entity.action.add">Add</span>
                    </button>
                </div>
            </div>
            <mat-divider style="margin-bottom: 10px"></mat-divider>
            <div>
                <button mat-stroked-button matStepperPrevious><i class="material-icons">navigate_before</i> <span jhiTranslate="migration-process.back">Back</span></button>
                <button mat-stroked-button matStepperNext (click)="initMigration(null, false)"><i class="material-icons">navigate_next</i><span jhiTranslate="migration-process.next">Next</span></button>
                <fa-icon icon="info-circle" class="pl-2" matTooltip="{{'migration-process.mapping-help' | translate}}"></fa-icon>
            </div>
        </form>
    </mat-step>

    <!-- Cleaning options step -->
    <mat-step [stepControl]="cleaningFormGroup" *ngIf="stepCleaning">
        <ng-template matStepLabel><span jhiTranslate="migration-process.cleaning.options">Cleaning options</span></ng-template>

        <form [formGroup]="cleaningFormGroup">

            <div class="row">
                <div class="col-md-12 col-xs-12 p-4">
                    <div class="row">
                        <div class="col-md-2 pl-4 pt-3 text-center">
                            <span jhiTranslate="migration-process.cleaning.empty-folder-config">Empty Folder Configuration</span>
                        </div>
                        <div class="col-md-10 pt-3">
                            <mat-slide-toggle (click)="togglePreserveEmptyDirs()">
                                <span class="pl-2" *ngIf="!preserveEmptyDirs" jhiTranslate="migration-process.cleaning.not-preserve-empty-dirs">
                                    Empty Folders NOT Migrated
                                </span>
                                <span class="pl-2" *ngIf="preserveEmptyDirs" jhiTranslate="migration-process.cleaning.preserve-empty-dirs">
                                    Empty Folders Migrated
                                </span>
                            </mat-slide-toggle>
                            <fa-icon icon="info-circle" class="pl-2"
                                     matTooltip="{{'migration-process.cleaning.preserve-empty-dirs-help' | translate}}">
                            </fa-icon>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12 col-xs-12 p-4">
                    <div class="row pb-3">
                        <div class="col-md-2 pl-4 pt-3 text-center">
                            <span jhiTranslate="migration-process.file.size">Max size authorized for a file</span>
                        </div>
                        <div class="col-md-10 pt-3 pl-3">
                            <mat-form-field style="max-width: 60px;">
                                <input matInput type="number" formControlName="fileMaxSize" min="1" />
                            </mat-form-field>
                            <mat-select (selectionChange)="fileSizeUnit($event)" style="max-width: 35px" value="M">
                                <mat-option value="K">K</mat-option>
                                <mat-option value="M">M</mat-option>
                                <mat-option value="G">G</mat-option>
                            </mat-select>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-2 pl-4 pt-4 text-center">
                    <span jhiTranslate="migration-process.file.extensions">File extensions to clean</span>
                    <fa-icon class="pl-2" icon="info-circle" matTooltip="{{'migration-process.extension.specific' | translate}}" *ngIf="!isDefaultExtensions()"></fa-icon>
                </div>
                <div class="col-md-3 pt-3 pb-4">
                    <table mat-table [dataSource]="staticExtensions" class="large-table table-responsive">
                        <ng-container matColumnDef="extensionPattern">
                            <td mat-cell *matCellDef="let extension">
                                <div class="row">
                                    <div class="col-8">
                                        {{ extension.description !== null ? extension.description : extension.value }}
                                    </div>
                                    <div class="col-4" *ngIf="!extension.isStatic">
                                        <fa-icon icon="trash-alt" (click)="removeExtension(extension)">
                                    </div>
                                </div>
                            </td>
                        </ng-container>
                        <tr mat-row *matRowDef="let extension; columns: extensionDisplayedColumns;"></tr>
                    </table>
                </div>
            </div>

            <div class="row">
                <div class="col-md-2 pl-4 pt-3 text-center">
                    <span jhiTranslate="migration-process.extension.custom">Custom extension</span>
                </div>
                <div class="col-md-3 pb-4">
                    <div class="row pb-3">
                        <div class="col-md-10">
                            <mat-form-field>
                                <input matInput placeholder="{{'migration-process.extension.placeholder' | translate}}" type="text"  [formControl]="addExtentionFormControl">
                            </mat-form-field>
                            <button type="button" mat-raised-button (click)="addExtension()" class="btn btn-primary">
                                <fa-icon icon="plus"></fa-icon>
                                <span class="ml-2" jhiTranslate="entity.action.add">Add</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <mat-divider style="margin-bottom: 10px"></mat-divider>
            <div>
                <button mat-stroked-button matStepperPrevious><i class="material-icons">navigate_before</i> <span jhiTranslate="migration-process.back">Back</span></button>
                <button mat-stroked-button matStepperNext (click)="initMigration(null, false)"><i class="material-icons">navigate_next</i><span jhiTranslate="migration-process.next">Next</span></button>
            </div>
        </form>
    </mat-step>

    <!-- Gitlab upload -->
    <mat-step *ngIf="stepUpload == 'gitlab'">
        <ng-template matStepLabel><span jhiTranslate="migration-process.gitlab.upload">🦊</span></ng-template>

        <div class="pl-5">
            <div class="row">
                <fa-icon icon="info-circle"></fa-icon>
                <span jhiTranslate="migration-process.import.gitlab" [translateValues]="{url: gitlabUrl}" class="pl-2"></span>
            </div>
            <br/>
            <div class="row">
                <span jhiTranslate="migration-process.import.from">🧐</span>
            </div>
            <div class="row pl-2"><mat-checkbox [disabled]="true"><span jhiTranslate="migration-process.import.trunk"></span></mat-checkbox></div>
            <div class="row pl-2"><mat-checkbox [disabled]="true"><span jhiTranslate="migration-process.import.branches"></span></mat-checkbox></div>
            <div class="row pl-2"><mat-checkbox [disabled]="true" [checked]="true"><span jhiTranslate="migration-process.import.tags"></span></mat-checkbox></div>
            <br/>
            <div class="row">
                <span jhiTranslate="migration-process.import.files">🗂</span>
            </div>
            <div class="row" *ngFor="let extension of staticExtensions">
                <mat-checkbox [disabled]="true" [checked]="true" class="pl-2">
                    <span>{{extension.value}}</span>
                </mat-checkbox>
            </div>
            <br/>
            <div class="row">
                <fa-icon icon="info-circle"></fa-icon>
                <span jhiTranslate="migration-process.import.version" class="pl-2">🪱</span>
            </div>
            <div class="row">
                <span jhiTranslate="migration-process.import.version.sample" class="pl-4">🪱</span>
            </div>
        </div>
        <mat-divider style="margin-bottom: 10px; margin-top: 10px"></mat-divider>
        <div>
            <button mat-stroked-button matStepperPrevious><i class="material-icons">navigate_before</i> <span jhiTranslate="migration-process.back">Back</span></button>
            <button mat-stroked-button matStepperNext (click)="initMigration(null)"><i class="material-icons">navigate_next</i><span jhiTranslate="migration-process.next">Next</span></button>
        </div>
    </mat-step>

    <!-- Artifactory upload -->
    <mat-step *ngIf="stepUpload == 'artifactory'">
        <ng-template matStepLabel><span jhiTranslate="migration-process.artifactory.upload">🐸</span></ng-template>

        <div class="pl-5">
            <div class="row">
                <fa-icon icon="info-circle"></fa-icon>
                <span jhiTranslate="migration-process.import.artifactory" [translateValues]="{url: artifactoryUrl}" class="pl-2"></span>
            </div>
            <br/>
            <div class="row">
                <span jhiTranslate="migration-process.import.from">🧐</span>
            </div>
            <div class="row pl-2"><mat-checkbox [disabled]="true"><span jhiTranslate="migration-process.import.trunk"></span></mat-checkbox></div>
            <div class="row pl-2"><mat-checkbox [disabled]="true"><span jhiTranslate="migration-process.import.branches"></span></mat-checkbox></div>
            <div class="row pl-2"><mat-checkbox [disabled]="true" [checked]="true"><span jhiTranslate="migration-process.import.tags"></span></mat-checkbox></div>
            <br/>
            <div class="row">
                <span jhiTranslate="migration-process.import.files">🗂</span>
            </div>
            <div class="row" *ngFor="let extension of staticExtensions">
                <mat-checkbox [disabled]="true" [checked]="true" class="pl-2">
                    <span>{{extension.value}}</span>
                </mat-checkbox>
            </div>
            <br/>
            <div class="row">
                <fa-icon icon="info-circle"></fa-icon>
                <span jhiTranslate="migration-process.import.version" class="pl-2">🪱</span>
            </div>
            <div class="row">
                <span jhiTranslate="migration-process.import.version.sample" class="pl-4">🪱</span>
            </div>
        </div>
        <mat-divider style="margin-bottom: 10px; margin-top: 10px"></mat-divider>
        <div>
            <button mat-stroked-button matStepperPrevious><i class="material-icons">navigate_before</i> <span jhiTranslate="migration-process.back">Back</span></button>
            <button mat-stroked-button matStepperNext (click)="initMigration(null)"><i class="material-icons">navigate_next</i><span jhiTranslate="migration-process.next">Next</span></button>
        </div>
    </mat-step>

    <!-- Summary step -->
    <mat-step>
        <ng-template matStepLabel><span jhiTranslate="migration-process.ready">Ready</span></ng-template>

        <div class="row">
            <div class="offset-md-2 col-md-8 col-xs-12 p-4">
                <jhi-migration-detail [migration]="mig" [svnModules]="getSvnModules()" (startMigration)="go()" (removeMigration)="removeSelection($event)" (rename)="renameModule($event)" *ngIf="mig"></jhi-migration-detail>
            </div>
        </div>

        <button mat-stroked-button matStepperPrevious><i class="material-icons">navigate_before</i> <span jhiTranslate="migration-process.back">Back</span></button>
    </mat-step>
</mat-horizontal-stepper>
